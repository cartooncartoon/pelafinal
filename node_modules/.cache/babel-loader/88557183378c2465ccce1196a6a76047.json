{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jamie\\\\pelafinal\\\\client\\\\src\\\\components\\\\messagelist.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Message from \"./message\";\nimport moment from \"moment\";\nimport \"./messages.css\";\n\nconst Messages = ({\n  messages,\n  name\n}) => {\n  const MY_USER_ID = name;\n\n  const renderMessages = () => {\n    let i = 0;\n    let messageCount = messages.length;\n    let tempMessages = [];\n\n    while (i < messageCount) {\n      let previous = messages[i - 1];\n      let current = messages[i];\n      let next = messages[i + 1];\n      let isMine = current.author === MY_USER_ID;\n      let currentMoment = moment(current.timestamp);\n      let prevBySameAuthor = false;\n      let nextBySameAuthor = false;\n      let startsSequence = true;\n      let endsSequence = true;\n      let showTimestamp = true;\n\n      if (previous) {\n        let previousMoment = moment(previous.timestamp);\n        let previousDuration = moment.duration(currentMoment.diff(previousMoment));\n        prevBySameAuthor = previous.author === current.author;\n\n        if (prevBySameAuthor && previousDuration.as(\"hours\") < 1) {\n          startsSequence = false;\n        }\n\n        if (previousDuration.as(\"hours\") < 1) {\n          showTimestamp = false;\n        }\n      }\n\n      if (next) {\n        let nextMoment = moment(next.timestamp);\n        let nextDuration = moment.duration(nextMoment.diff(currentMoment));\n        nextBySameAuthor = next.author === current.author;\n\n        if (nextBySameAuthor && nextDuration.as(\"hours\") < 1) {\n          endsSequence = false;\n        }\n      }\n\n      tempMessages.push( /*#__PURE__*/_jsxDEV(Message, {\n        isMine: isMine,\n        startsSequence: startsSequence,\n        endsSequence: endsSequence,\n        showTimestamp: showTimestamp,\n        data: current\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)); // Proceed to the next message.\n\n      i += 1;\n    }\n\n    return tempMessages;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-list-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-list-container\",\n      children: renderMessages()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 3\n  }, this);\n};\n\n_c = Messages;\nexport default Messages;\n\nvar _c;\n\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"sources":["C:/Users/Jamie/pelafinal/client/src/components/messagelist.js"],"names":["React","useState","useEffect","Message","moment","Messages","messages","name","MY_USER_ID","renderMessages","i","messageCount","length","tempMessages","previous","current","next","isMine","author","currentMoment","timestamp","prevBySameAuthor","nextBySameAuthor","startsSequence","endsSequence","showTimestamp","previousMoment","previousDuration","duration","diff","as","nextMoment","nextDuration","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Message from \"./message\";\r\nimport moment from \"moment\";\r\nimport \"./messages.css\";\r\n\r\n\r\n\r\nconst Messages = ({ messages, name }) => {\r\n\r\n  const MY_USER_ID = name;\r\n  \r\n  const renderMessages = () => {\r\n    let i = 0;\r\n    let messageCount = messages.length;\r\n    let tempMessages = [];\r\n\r\n    while (i < messageCount) {\r\n      let previous = messages[i - 1];\r\n      let current = messages[i];\r\n      let next = messages[i + 1];\r\n      let isMine = current.author === MY_USER_ID;\r\n      let currentMoment = moment(current.timestamp);\r\n      let prevBySameAuthor = false;\r\n      let nextBySameAuthor = false;\r\n      let startsSequence = true;\r\n      let endsSequence = true;\r\n      let showTimestamp = true;\r\n\r\n      if (previous) {\r\n        let previousMoment = moment(previous.timestamp);\r\n        let previousDuration = moment.duration(\r\n          currentMoment.diff(previousMoment)\r\n        );\r\n        prevBySameAuthor = previous.author === current.author;\r\n\r\n        if (prevBySameAuthor && previousDuration.as(\"hours\") < 1) {\r\n          startsSequence = false;\r\n        }\r\n\r\n        if (previousDuration.as(\"hours\") < 1) {\r\n          showTimestamp = false;\r\n        }\r\n      }\r\n\r\n      if (next) {\r\n        let nextMoment = moment(next.timestamp);\r\n        let nextDuration = moment.duration(nextMoment.diff(currentMoment));\r\n        nextBySameAuthor = next.author === current.author;\r\n\r\n        if (nextBySameAuthor && nextDuration.as(\"hours\") < 1) {\r\n          endsSequence = false;\r\n        }\r\n      }\r\n\r\n      tempMessages.push(\r\n        <Message\r\n          key={i}\r\n          isMine={isMine}\r\n          startsSequence={startsSequence}\r\n          endsSequence={endsSequence}\r\n          showTimestamp={showTimestamp}\r\n          data={current}\r\n        />\r\n      );\r\n\r\n      // Proceed to the next message.\r\n      i += 1;\r\n    }\r\n\r\n    return tempMessages;\r\n  };\r\n\r\n  return (\r\n  <div className=\"message-list-wrapper\">\r\n  <div className=\"message-list-container\">{renderMessages()}</div>\r\n  </div>);\r\n};\r\n\r\nexport default Messages;\r\n"]},"metadata":{},"sourceType":"module"}